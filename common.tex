% UTF-8 encoding
% Compile with latex+dvipdfmx, pdflatex, xelatex or lualatex
% XeLaTeX is recommanded
%\documentclass[UTF8]{ctexart}
%\documentclass[UTF8]{ctexbook}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% page layout
%\usepackage[top=2cm, bottom=2cm, outer=2cm, inner=2cm, heightrounded]{geometry}
\usepackage[top=2cm, bottom=2cm, outer=1.5cm, inner=1.5cm, heightrounded]{geometry}
% put notes
\usepackage{marginnote}

% for rowcolors, must be on the top, otherwise  error for unknown reason
\usepackage[table]{xcolor}
%predefined color: black, blue, brown, cyan, darkgray, gray, green, lightgray, 
%  lime, magenta, olive, orange, pink, purple, red, teal, violet, white, yellow.
\usepackage{xcolor}
% link & ref
\usepackage{hyperref}
% no indent, new line after each paragraph
\usepackage[parfill]{parskip}

% foreach
\usepackage{tikz}
% ifelse
\usepackage{xifthen}

% include pdf
\usepackage[final]{pdfpages}
% include jpg
\usepackage{graphicx}
% enum
\usepackage{enumitem}
% table
\usepackage{longtable}
% dummy text
\usepackage{lipsum}
% % treate _ as \textunderscore. But I can't use file name like a_b
% \usepackage{underscore}
% For define mycode
\usepackage{verbatim}
% figure position
\usepackage{float}
% resize (for underscore)
\usepackage{relsize}
% math
\usepackage{mathtools}

% page background
%\pagecolor{yellow!20}
% leave space at the bottom of page
\raggedbottom
% header & footer 
\usepackage{fancyhdr}
\pagestyle{fancy}
% At least 12.xx pt
\setlength{\headheight}{24pt}
\setlength{\headsep}{4ex} 
\setlength{\footskip}{4ex} 
\setlength{\parskip}{1ex plus0.2ex minus0.2ex}
% change style
% \usepackage{sectsty}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Usage: \jpg[width]{path}
% Not floating
\newcommand*{\jpg}[2][0.618]{
    \begin{center}
      \includegraphics[width={#1}\textwidth]{images/{#2}.jpg}
    \end{center}
}
% By height
\newcommand*{\jpgh}[2][0.618]{
    \begin{center}
      \includegraphics[height={#1}\textheight]{images/{#2}.jpg}
    \end{center}
}
% Floating
\newcommand*{\jpgf}[2][0.618]{
  \begin{figure}[ht!]
    \begin{center}
      \includegraphics[width={#1}\textwidth]{images/{#2}.jpg}
    \end{center}
  \end{figure} 
}
% jpg with caption by width, non-floating
\newcommand*{\cjpg}[3][0.9]{
  \begin{figure}[H]%[ht!]
    \begin{center}
      \includegraphics[width={#1}\textwidth]{images/{#2}.jpg}
      \vspace{-0.5ex}
      \caption{#3}
    \end{center}
  \end{figure}
}
% jpg with caption by height, non-floating
\newcommand*{\cjpgh}[3][0.4]{
  \begin{figure}[H]%[ht!]
    \begin{center}
      \includegraphics[height={#1}\textheight]{images/{#2}.jpg}
      \vspace{-0.5ex}
      \caption{#3}
    \end{center}
  \end{figure}
}

% jpg with caption by width, floating
\newcommand*{\cjpgf}[3][0.9]{
  \begin{figure}[htbp!]
    \begin{center}
      \includegraphics[width={#1}\textwidth]{images/{#2}.jpg}
      \vspace{-0.5ex}
      \caption{#3}
    \end{center}
  \end{figure}
}
% jpg with caption by height, floating
\newcommand*{\cjpgfh}[3][0.4]{
  \begin{figure}[htbp!]
    \begin{center}
      \includegraphics[height={#1}\textheight]{images/{#2}.jpg}
      \vspace{-0.5ex}
      \caption{#3}
    \end{center}
  \end{figure}
}

% Includ PDF file
\newcommand*{\pdf}[1]{
  \includepdf[pages=-]{#1}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List
\newenvironment{mylist}{%
  \vspace{-1ex}
  \begin{itemize}[leftmargin=4ex, topsep=0ex, itemsep=-0.2ex]
    \setlength{\parskip}{0pt}
    \renewcommand{\labelitemi}{\textbullet}
}{%
  \end{itemize}
}

%Table: 2 column
\newenvironment{mytable}{%
  \rowcolors{1}{lightgray}{darkgray}
  \begin{center}
  \begin{longtable}{|p{0.1\textwidth}|p{0.8\textwidth}|} 
  \hline
}{%
  \end{longtable}
  \end{center}
}
\newcommand{\myrow}[2]{%
  \small{#1} & {#2} \\
  \hline
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\emphcn}[1]{%
  {\textbf{#1}}%
}
% Hightlight 
\newcommand{\hl}[1]{%
  {\textbf{\color{red}#1}}%
}

% right align text
\newcommand{\rightAlign}[1]{%
  \begin{flushright}
  #1
  \end{flushright}
}

\renewcommand{\_}{\textscale{.5}{\textunderscore\relax{}}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Coding env, see
% https://tex.stackexchange.com/questions/114643/defining-a-new-environment-extending-a-verbatim-environment
\newenvironment{mycode}%
  {\endgraf\small\verbatim}%
  {\endverbatim}
